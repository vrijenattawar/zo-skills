---
created: 2026-02-12
last_edited: 2026-02-12
version: 1.0
provenance: pulse:frank-investor-line:D2.2
---

# Frank Mode Switch — Runbook

## How It Works

Frank determines whether a caller is an **investor** or a **product user** on every non-owner call. The mode controls Frank's voice, framing, and source material for the rest of the conversation.

### Flow

1. Frank's first message asks: "Are you calling as an investor or as a Zo user?"
2. Caller responds.
3. Frank calls the `recordCallerMode` tool with `INVESTOR` or `USER` + the current call ID.
4. DuckDB `calls.caller_mode` column updates from `UNKNOWN` to the selected mode.
5. Frank adapts behavior for the rest of the call.
6. Recap email includes the caller mode in the details section.

### Investor Mode

- Frank refers to V in third-person ("V built…", "<YOUR_FIRST_NAME>'s approach…").
- Sources: Zo 101 Knowledge Base (`zo-101-briefing.md`) + Investor FAQ (`prefab_answers` table).
- Tone: confident, specific, conversational. No marketing speak.
- Unknown questions redirect to booking a call with V.

### User Mode

- Frank uses second-person tone ("you can…", "here's how…").
- Focus on Zo features, benefits, and getting started.
- No investor framing or third-person references to V.

### Owner Calls

Owner calls (matched by `VAPI_OWNER_PHONE`) skip mode detection entirely. Full access, casual tone.

## Schema

```sql
-- calls table includes:
caller_mode VARCHAR DEFAULT 'UNKNOWN'  -- Values: INVESTOR, USER, UNKNOWN
```

## Adding New Investor-Mode Phrases

Investor-mode content lives in two places:

### 1. Static briefing: `Skills/vapi/assets/zo-101-briefing.md`
- Edit directly to add/change foundational talking points.
- Structured as: Who V Is → What Zo Is → Why It Matters → What V Built → FAQ → Next Steps.
- Keep sections short (≤4 paragraphs each). This loads into the LLM context window on every call.
- Voice primitives reference: `Skills/vapi/assets/voice-primitives-reference.md`.

### 2. Dynamic FAQ: `prefab_answers` table in DuckDB
- Auto-generated when a question appears 3+ times across calls.
- To add manually:

```sql
INSERT INTO prefab_answers (id, normalized_question, answer_text, occurrence_count, auto_generated, manually_approved)
VALUES (
  gen_random_uuid()::VARCHAR,
  'What is Zo pricing?',
  'Subscription tiers. Free to get started, paid plans unlock more compute and features. Revenue grows with usage — aligned incentives.',
  1,
  FALSE,
  TRUE
);
```

- `manually_approved = TRUE` entries always appear in the FAQ section.
- `auto_generated = TRUE` entries also appear (generated by the prefab pipeline).
- Both are loaded via `getPrefabAnswers()` at call start and injected into the system prompt.

### 3. Voice primitives
- Documented in `Skills/vapi/assets/voice-primitives-reference.md`.
- Cap at 3-4 per briefing version. More than that sounds over-styled on a phone call.
- Best pattern for spoken cadence: "isn't X… it's Y" contrast structure.

## Monitoring

- Caller mode is visible in:
  - DuckDB: `SELECT id, phone_number, caller_mode FROM calls ORDER BY started_at DESC;`
  - Recap emails: "Caller Mode" field in the Call Details section.
- Question tracking: `SELECT * FROM call_questions WHERE call_id = '<id>';`
- Prefab answers: `SELECT * FROM prefab_answers ORDER BY occurrence_count DESC;`

## Troubleshooting

| Symptom | Check |
|---------|-------|
| Mode shows UNKNOWN in recap | Frank didn't call `recordCallerMode` — check system prompt for tool instruction |
| Prefab FAQ not appearing | Run `SELECT COUNT(*) FROM prefab_answers;` — may have 0 rows if no questions hit 3+ threshold yet |
| Frank using first-person in investor mode | Review `modeDetectionPrompt` in webhook.ts — should say "never say I or me" |
| Briefing too long for context | Keep `zo-101-briefing.md` under 3K words. Check with `wc -w` |
